{% extends 'index.html' %}

{% block title %}
  Show Profile
{% endblock %}

{% block content %}
  <div class="main flex flex-col bg-gray-900 text-gray-100 min-h-screen">
    {% include 'manager/nav.html' %}

    <div class="max-w-6xl mx-auto px-4 py-8 w-full">
      <!-- Header Section -->
      <div class="mb-8 flex justify-between items-center">
        <div>
          <h1 class="text-3xl font-bold text-white mb-2">Candidate Profile</h1>
          <div class="w-20 h-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"></div>
        </div>
        <a href="javascript:history.back()" class="flex items-center text-white hover:text-gray-300">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
          </svg>
          Back to Applications
        </a>
      </div>

      <!-- Profile Card -->
      <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700">
        <div class="md:flex">
          <!-- Left Column - Profile Picture -->
          <div class="md:w-1/3 p-6 flex flex-col items-center border-b md:border-b-0 md:border-r border-gray-700">
            <div class="relative w-48 h-48 rounded-full overflow-hidden border-4 border-blue-500/30 shadow-lg">
              {% if profile.profile_pic %}
                <img src="{{ profile.profile_pic.url }}" alt="Profile Picture" class="w-full h-full object-cover">
              {% else %}
                <div class="w-full h-full bg-gray-700 flex items-center justify-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                  </svg>
                </div>
              {% endif %}
            </div>
            
            <div class="mt-6 text-center">
              <h2 class="text-2xl font-bold text-white">{{ profile.name }}</h2>
              <p class="text-blue-400 mt-1">{{ profile.email }}</p>
              
              <div class="mt-4 flex justify-center space-x-4">
                <a href="tel:{{ profile.phone }}" class="flex items-center text-gray-300 hover:text-blue-400">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                  </svg>
                  {{ profile.phone }}
                </a>
              </div>
              
              {% if profile.resume %}
                <a href="{{ profile.resume.url }}" target="_blank" class="mt-4 inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white transition duration-300">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                  </svg>
                  Download Resume
                </a>
              {% endif %}
            </div>
          </div>
          
          <!-- Right Column - Profile Details -->
          <div class="md:w-2/3 p-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Main Interest -->
              <div class="bg-gray-700/50 p-4 rounded-lg">
                <h3 class="text-sm font-medium text-gray-400">Main Interest</h3>
                <p class="mt-1 text-white font-medium">
                  {% if profile.main_interest %}
                    {{ profile.main_interest }}
                  {% else %}
                    <span class="text-gray-500">Not specified</span>
                  {% endif %}
                </p>
              </div>
              
              <!-- CPI -->
              <div class="bg-gray-700/50 p-4 rounded-lg">
                <h3 class="text-sm font-medium text-gray-400">CPI</h3>
                <p class="mt-1 text-white font-medium">
                  {% if profile.cpi %}
                    {{ profile.cpi }}
                  {% else %}
                    <span class="text-gray-500">Not specified</span>
                  {% endif %}
                </p>
              </div>
              
              <!-- University -->
              <div class="bg-gray-700/50 p-4 rounded-lg">
                <h3 class="text-sm font-medium text-gray-400">University</h3>
                <p class="mt-1 text-white font-medium">
                  {% if profile.university %}
                    {{ profile.university }}
                  {% else %}
                    <span class="text-gray-500">Not specified</span>
                  {% endif %}
                </p>
              </div>
              
              <!-- Experience -->
              <div class="bg-gray-700/50 p-4 rounded-lg">
                <h3 class="text-sm font-medium text-gray-400">Experience</h3>
                <p class="mt-1 text-white font-medium">
                  {% if profile.experience %}
                    {{ profile.experience }} years
                  {% else %}
                    <span class="text-gray-500">No experience</span>
                  {% endif %}
                </p>
              </div>
            </div>
            
            <!-- Skills Section -->
            <div class="mt-6">
              <h3 class="text-lg font-medium text-white mb-3 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-400" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z" clip-rule="evenodd" />
                </svg>
                Skills
              </h3>
              
              <div class="flex flex-wrap gap-2">
                {% for skill in profile.skills_required %}
                  <span class="px-3 py-1 bg-blue-900/50 text-blue-300 rounded-full text-sm border border-blue-800/50">{{ skill }}</span>
                {% empty %}
                  <span class="text-gray-500">No skills listed</span>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="z-[99] relative">
      {% include 'include/footer.html' %}
    </div>

    <script src="/static/scripts/manager/Sortedprofiles.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanta/0.5.24/vanta.net.min.js"></script>
    <script>
      VANTA.NET({
        el: '.main',
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.0,
        minWidth: 200.0,
        scale: 1.0,
        scaleMobile: 1.0,
        color: 0x3b82f6,
        backgroundColor: 0x1a1a1a,
        points: 20.0,
        maxDistance: 24.0
      })
    </script>
  </div>
{% endblock %}